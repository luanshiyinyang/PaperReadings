# R-CNN系列解读

## 简介

最近香港大学和加州伯克利开放了一篇新的基于R-CNN的工作Sparse R-CNN，这是一个类似于DETR的稀疏端到端目标检测框架，使用少量可学习的proposal即可达到SOTA性能。这为稀疏端到端目标检测开辟了一条新的路，也将更多研究者的目标吸引了过来。本文从R-CNN开始，逐步讲解R-CNN系列目标检测算法的发展优化之路。，它们都是沿着region proposal这个思路的，只是处理方式大不相同。下面的图是我非常喜欢的目标检测综述《Object detection in 20 years: A survey》中归纳的目标检测里程碑式作品，可以看到，R-CNN系的三个算法是目标检测发展史上避不开的话题。

- [R-CNN](https://arxiv.org/abs/1311.2524)（CVPR2014）
- [Fast R-CNN](https://arxiv.org/abs/1504.08083) （ICCV2015）
- [Faster R-CNN](https://arxiv.org/abs/1506.01497)（NIPS2015）
- [Sparse R-CNN](http://arxiv.org/abs/2011.12450)（暂未收录）

![](./assets/milestone.png)

## 目标检测思路

在聊具体的算法之前，我们首先要知道目标检测永不过时的核心思路：**目标定位**+**目标分类**，这是任务本身决定的，后来所谓的two-stage方法和one-stage方法其实都还是这个思路，只是处理的技巧不同罢了。

我们知道，**目标分类**这个任务已经基本上被CNN所解决，所以只要在pipeline中引入卷积分类模型就能确保不错的分类精度。留给目标检测的核心问题其实就是**目标定位**。我们当然会想到很直接很粗暴的想法：遍历图片中所有可能的位置，搜索不同大小、宽高比的所有区域，逐个检测其中是否存在某个目标，以概率较大的结果作为输出。这个就是传统的滑窗方法，这个方法显然是一种密集采样的方式，类似后来的anchor策略，R-CNN系列则采用了一种候选框提名的方式减少滑窗的复杂性形成了Dense-to-Sparse方法，Sparse R-CNN则完全采用Sparse策略，获得了低维的proposal输入。

![](./assets/dense2sparse.png)

## R-CNN

R-CNN是2014年出现的一篇目标检测方法，为后来目标检测的研究奠定了基础，R-CNN结合了传统的滑窗法和边框回归思路
